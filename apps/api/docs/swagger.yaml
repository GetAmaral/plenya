basePath: /api/v1
definitions:
  dto.AnamnesisTemplateItemData:
    properties:
      order:
        maximum: 9999
        minimum: 0
        type: integer
      scoreItemId:
        type: string
    required:
    - scoreItemId
    type: object
  dto.AppleOAuthRequest:
    properties:
      idToken:
        type: string
      user:
        $ref: '#/definitions/dto.AppleUser'
    required:
    - idToken
    type: object
  dto.AppleUser:
    properties:
      name:
        $ref: '#/definitions/dto.AppleUserName'
    type: object
  dto.AppleUserName:
    properties:
      firstName:
        type: string
      lastName:
        type: string
    type: object
  dto.AuthResponse:
    properties:
      accessToken:
        type: string
      refreshToken:
        type: string
      user:
        $ref: '#/definitions/dto.UserDTO'
    type: object
  dto.CreateAnamnesisTemplateRequest:
    properties:
      area:
        enum:
        - Medicina
        - Nutricao
        - Psicologia
        - Educacao Fisica
        type: string
      name:
        maxLength: 200
        minLength: 2
        type: string
    required:
    - area
    - name
    type: object
  dto.CreateLabRequestRequest:
    properties:
      date:
        description: 'Formato: "2006-01-02"'
        type: string
      exams:
        type: string
      labRequestTemplateId:
        description: ID do template usado
        type: string
      notes:
        type: string
    required:
    - date
    - exams
    type: object
  dto.CreateLabResultBatchRequest:
    properties:
      attachments:
        type: string
      collectionDate:
        description: RFC3339
        type: string
      labRequestId:
        description: patientId vem do selectedPatient (context)
        type: string
      labResults:
        items:
          $ref: '#/definitions/dto.CreateLabResultInBatchRequest'
        minItems: 1
        type: array
      laboratoryName:
        maxLength: 200
        type: string
      observations:
        type: string
      requestingDoctorId:
        type: string
      resultDate:
        description: RFC3339
        type: string
      status:
        $ref: '#/definitions/models.LabResultBatchStatus'
    required:
    - collectionDate
    - labResults
    - laboratoryName
    - status
    type: object
  dto.CreateLabResultInBatchRequest:
    properties:
      interpretation:
        type: string
      labTestDefinitionId:
        type: string
      level:
        type: integer
      matched:
        description: true se matched com definição catalogada
        type: boolean
      resultNumeric:
        type: number
      resultText:
        type: string
      testName:
        maxLength: 200
        type: string
      testType:
        maxLength: 100
        type: string
      unit:
        type: string
    required:
    - testName
    - testType
    type: object
  dto.CreateLabResultViewRequest:
    properties:
      description:
        type: string
      displayOrder:
        maximum: 9999
        minimum: 0
        type: integer
      name:
        maxLength: 200
        minLength: 2
        type: string
    required:
    - name
    type: object
  dto.CreatePatientRequest:
    properties:
      address:
        maxLength: 500
        type: string
      birthDate:
        description: 'formato: YYYY-MM-DD'
        type: string
      bloodType:
        allOf:
        - $ref: '#/definitions/models.BloodType'
        enum:
        - A+
        - A-
        - B+
        - B-
        - AB+
        - AB-
        - O+
        - O-
      cpf:
        type: string
      email:
        maxLength: 200
        type: string
      emergencyContact:
        maxLength: 200
        minLength: 3
        type: string
      emergencyPhone:
        maxLength: 20
        minLength: 10
        type: string
      fatherName:
        maxLength: 200
        minLength: 3
        type: string
      gender:
        allOf:
        - $ref: '#/definitions/models.Gender'
        enum:
        - male
        - female
        - other
      height:
        type: number
      maritalStatus:
        allOf:
        - $ref: '#/definitions/models.MaritalStatus'
        enum:
        - single
        - married
        - divorced
        - widowed
        - other
      motherName:
        maxLength: 200
        minLength: 3
        type: string
      municipality:
        maxLength: 100
        type: string
      name:
        maxLength: 200
        minLength: 3
        type: string
      occupation:
        maxLength: 200
        type: string
      phone:
        maxLength: 20
        minLength: 10
        type: string
      rg:
        maxLength: 20
        type: string
      socialGender:
        allOf:
        - $ref: '#/definitions/models.SocialGender'
        enum:
        - male
        - female
        - non_binary
        - trans_male
        - trans_female
        - other
        - prefer_not_to_say
      state:
        type: string
      weight:
        type: number
    required:
    - birthDate
    - gender
    - name
    type: object
  dto.CreateUserRequest:
    properties:
      cpf:
        description: 'Formato: 123.456.789-00 ou sem formatação'
        type: string
      email:
        type: string
      name:
        maxLength: 200
        minLength: 3
        type: string
      password:
        description: bcrypt max 72 bytes
        maxLength: 72
        minLength: 8
        type: string
      roles:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - email
    - name
    - password
    - roles
    type: object
  dto.ErrorResponse:
    properties:
      details:
        additionalProperties:
          type: string
        description: Para erros de validação
        type: object
      error:
        type: string
      message:
        type: string
    type: object
  dto.GoogleOAuthRequest:
    properties:
      idToken:
        type: string
    required:
    - idToken
    type: object
  dto.LabResultBatchDetailResponse:
    properties:
      attachments:
        type: string
      collectionDate:
        type: string
      createdAt:
        type: string
      id:
        type: string
      labRequestId:
        type: string
      labResults:
        items:
          $ref: '#/definitions/dto.LabResultInBatchResponse'
        type: array
      laboratoryName:
        type: string
      observations:
        type: string
      patientId:
        type: string
      pdfContentJson:
        type: string
      requestingDoctorId:
        type: string
      resultCount:
        type: integer
      resultDate:
        type: string
      status:
        $ref: '#/definitions/models.LabResultBatchStatus'
      updatedAt:
        type: string
    type: object
  dto.LabResultBatchResponse:
    properties:
      attachments:
        type: string
      collectionDate:
        type: string
      createdAt:
        type: string
      id:
        type: string
      labRequestId:
        type: string
      laboratoryName:
        type: string
      observations:
        type: string
      patientId:
        type: string
      pdfContentJson:
        type: string
      requestingDoctorId:
        type: string
      resultCount:
        type: integer
      resultDate:
        type: string
      status:
        $ref: '#/definitions/models.LabResultBatchStatus'
      updatedAt:
        type: string
    type: object
  dto.LabResultInBatchResponse:
    properties:
      createdAt:
        type: string
      id:
        type: string
      interpretation:
        type: string
      labResultBatchId:
        type: string
      labTestDefinitionId:
        type: string
      level:
        type: integer
      resultNumeric:
        type: number
      resultText:
        type: string
      testName:
        type: string
      testType:
        type: string
      unit:
        type: string
      updatedAt:
        type: string
    type: object
  dto.LabResultViewItemData:
    properties:
      labTestDefinitionId:
        type: string
      order:
        maximum: 9999
        minimum: 0
        type: integer
    required:
    - labTestDefinitionId
    type: object
  dto.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  dto.PaginatedResponse:
    properties:
      data: {}
      limit:
        type: integer
      offset:
        type: integer
      total:
        type: integer
    type: object
  dto.PatientResponse:
    properties:
      address:
        type: string
      age:
        type: integer
      ageText:
        type: string
      birthDate:
        type: string
      bloodType:
        $ref: '#/definitions/models.BloodType'
      cpf:
        description: Retornado descriptografado para profissionais de saúde
        type: string
      createdAt:
        type: string
      email:
        type: string
      emergencyContact:
        type: string
      emergencyPhone:
        type: string
      fatherName:
        type: string
      gender:
        $ref: '#/definitions/models.Gender'
      height:
        type: number
      id:
        type: string
      maritalStatus:
        $ref: '#/definitions/models.MaritalStatus'
      motherName:
        type: string
      municipality:
        type: string
      name:
        type: string
      occupation:
        type: string
      phone:
        type: string
      rg:
        description: Retornado descriptografado para profissionais de saúde
        type: string
      socialGender:
        $ref: '#/definitions/models.SocialGender'
      state:
        type: string
      updatedAt:
        type: string
      userId:
        type: string
      weight:
        type: number
    type: object
  dto.ProcessingJobResponse:
    description: Resposta com status do processamento assíncrono
    properties:
      attempts:
        example: 1
        type: integer
      completedAt:
        example: "2024-01-20T15:05:00Z"
        type: string
      createdAt:
        example: "2024-01-20T15:04:05Z"
        type: string
      errorMessage:
        example: OCR extraction failed
        type: string
      id:
        example: 019c1a1e-0579-7f3b-a1bd-4767008e844c
        type: string
      labResultBatchId:
        example: 019c1a1e-0579-7f3b-a1bd-4767008e844c
        type: string
      progressMessage:
        example: Extraindo conteúdo do PDF para texto
        type: string
      progressStep:
        example: 3
        type: integer
      startedAt:
        example: "2024-01-20T15:04:10Z"
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.ProcessingJobStatus'
        enum:
        - pending
        - processing
        - completed
        - failed
        example: processing
      type:
        allOf:
        - $ref: '#/definitions/models.ProcessingJobType'
        example: pdf_extraction
    type: object
  dto.RefreshRequest:
    properties:
      refreshToken:
        type: string
    required:
    - refreshToken
    type: object
  dto.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 8
        type: string
      roles:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - email
    - password
    - roles
    type: object
  dto.UpdateAnamnesisTemplateItemsRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/dto.AnamnesisTemplateItemData'
        type: array
    required:
    - items
    type: object
  dto.UpdateAnamnesisTemplateRequest:
    properties:
      area:
        enum:
        - Medicina
        - Nutricao
        - Psicologia
        - Educacao Fisica
        type: string
      name:
        maxLength: 200
        minLength: 2
        type: string
    type: object
  dto.UpdateLabRequestRequest:
    properties:
      date:
        type: string
      exams:
        type: string
      labRequestTemplateId:
        type: string
      notes:
        type: string
    type: object
  dto.UpdateLabResultBatchRequest:
    properties:
      attachments:
        type: string
      collectionDate:
        description: RFC3339
        type: string
      labRequestId:
        type: string
      labResults:
        description: Nested results sync
        items:
          $ref: '#/definitions/dto.UpdateLabResultInBatchRequest'
        type: array
      laboratoryName:
        maxLength: 200
        type: string
      observations:
        type: string
      requestingDoctorId:
        type: string
      resultDate:
        description: RFC3339
        type: string
      status:
        $ref: '#/definitions/models.LabResultBatchStatus'
    type: object
  dto.UpdateLabResultInBatchRequest:
    properties:
      id:
        description: Se presente, faz update; se ausente, cria novo
        type: string
      interpretation:
        type: string
      labTestDefinitionId:
        type: string
      level:
        type: integer
      resultNumeric:
        type: number
      resultText:
        type: string
      testName:
        maxLength: 200
        type: string
      testType:
        maxLength: 100
        type: string
      unit:
        maxLength: 50
        type: string
    type: object
  dto.UpdateLabResultViewItemsRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/dto.LabResultViewItemData'
        type: array
    required:
    - items
    type: object
  dto.UpdateLabResultViewRequest:
    properties:
      description:
        type: string
      displayOrder:
        maximum: 9999
        minimum: 0
        type: integer
      isActive:
        type: boolean
      name:
        maxLength: 200
        minLength: 2
        type: string
    type: object
  dto.UpdatePatientRequest:
    properties:
      address:
        maxLength: 500
        type: string
      birthDate:
        description: 'formato: YYYY-MM-DD'
        type: string
      bloodType:
        allOf:
        - $ref: '#/definitions/models.BloodType'
        enum:
        - A+
        - A-
        - B+
        - B-
        - AB+
        - AB-
        - O+
        - O-
      cpf:
        type: string
      email:
        maxLength: 200
        type: string
      emergencyContact:
        maxLength: 200
        minLength: 3
        type: string
      emergencyPhone:
        maxLength: 20
        minLength: 10
        type: string
      fatherName:
        maxLength: 200
        minLength: 3
        type: string
      gender:
        allOf:
        - $ref: '#/definitions/models.Gender'
        enum:
        - male
        - female
        - other
      height:
        type: number
      maritalStatus:
        allOf:
        - $ref: '#/definitions/models.MaritalStatus'
        enum:
        - single
        - married
        - divorced
        - widowed
        - other
      motherName:
        maxLength: 200
        minLength: 3
        type: string
      municipality:
        maxLength: 100
        type: string
      name:
        maxLength: 200
        minLength: 3
        type: string
      occupation:
        maxLength: 200
        type: string
      phone:
        maxLength: 20
        minLength: 10
        type: string
      rg:
        maxLength: 20
        type: string
      socialGender:
        allOf:
        - $ref: '#/definitions/models.SocialGender'
        enum:
        - male
        - female
        - non_binary
        - trans_male
        - trans_female
        - other
        - prefer_not_to_say
      state:
        type: string
      weight:
        type: number
    type: object
  dto.UpdateProfileRequest:
    properties:
      cpf:
        description: 'Formato: 123.456.789-00 ou sem formatação'
        type: string
      crm:
        maxLength: 20
        type: string
      crmUF:
        type: string
      name:
        maxLength: 200
        minLength: 3
        type: string
      professionalAddress:
        type: string
      professionalPhone:
        maxLength: 20
        type: string
      rqe:
        maxLength: 20
        type: string
      specialty:
        maxLength: 100
        type: string
    type: object
  dto.UpdateSelectedPatientRequest:
    properties:
      patientId:
        type: string
    required:
    - patientId
    type: object
  dto.UpdateUserRequest:
    properties:
      cpf:
        description: 'Formato: 123.456.789-00 ou sem formatação'
        type: string
      email:
        type: string
      name:
        maxLength: 200
        minLength: 3
        type: string
      password:
        maxLength: 72
        minLength: 8
        type: string
      roles:
        items:
          type: string
        minItems: 1
        type: array
    type: object
  dto.UserDTO:
    properties:
      cpf:
        type: string
      createdAt:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      preferences:
        additionalProperties: true
        type: object
      roles:
        items:
          type: string
        type: array
      selectedPatient:
        $ref: '#/definitions/dto.PatientResponse'
      selectedPatientId:
        type: string
      twoFactorEnabled:
        type: boolean
    type: object
  dto.UserListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/dto.UserResponse'
        type: array
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
    type: object
  dto.UserResponse:
    properties:
      cpf:
        type: string
      createdAt:
        type: string
      crm:
        type: string
      crmUF:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      professionalAddress:
        type: string
      professionalPhone:
        type: string
      roles:
        items:
          type: string
        type: array
      rqe:
        type: string
      specialty:
        type: string
      twoFactorEnabled:
        type: boolean
      updatedAt:
        type: string
    type: object
  handlers.AddLabTestToTemplateRequest:
    properties:
      testId:
        type: string
    required:
    - testId
    type: object
  handlers.UpdateLabRequestTemplateTestsRequest:
    properties:
      testIds:
        items:
          type: string
        type: array
    required:
    - testIds
    type: object
  models.AnamnesisTemplate:
    description: Template de anamnese com itens pré-configurados para uma área específica
    properties:
      area:
        description: |-
          Área de aplicação do template
          @example Clínica Médica, Psicologia, Pediatria, Cardiologia
        maxLength: 100
        type: string
      createdAt:
        description: Timestamps
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      items:
        description: Relationships
        items:
          $ref: '#/definitions/models.AnamnesisTemplateItem'
        type: array
      name:
        description: |-
          Nome do template
          @minLength 2
          @maxLength 200
          @example Anamnese Clínica Geral
        maxLength: 200
        minLength: 2
        type: string
      updatedAt:
        type: string
    required:
    - area
    - name
    type: object
  models.AnamnesisTemplateItem:
    description: Item de template de anamnese vinculado a um ScoreItem
    properties:
      anamnesisTemplate:
        allOf:
        - $ref: '#/definitions/models.AnamnesisTemplate'
        description: Relationships
      anamnesisTemplateId:
        description: |-
          Foreign key to AnamnesisTemplate
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      createdAt:
        description: Timestamps
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      order:
        description: |-
          Order for display (within the template)
          @minimum 0
          @maximum 9999
          @example 1
        maximum: 9999
        minimum: 0
        type: integer
      scoreItem:
        $ref: '#/definitions/models.ScoreItem'
      scoreItemId:
        description: |-
          Foreign key to ScoreItem
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      updatedAt:
        type: string
    required:
    - anamnesisTemplateId
    - scoreItemId
    type: object
  models.Article:
    properties:
      abstract:
        description: Conteúdo
        type: string
      articleType:
        description: |-
          Classificação
          @enum research_article,review,meta_analysis,case_study,clinical_trial,editorial,letter,protocol,lecture
        enum:
        - research_article
        - review
        - meta_analysis
        - case_study
        - clinical_trial
        - editorial
        - letter
        - protocol
        - lecture
        type: string
      authors:
        description: |-
          @minLength 1
          @maxLength 2000
        maxLength: 2000
        minLength: 1
        type: string
      createdAt:
        description: Timestamps
        type: string
      createdBy:
        description: Audit
        type: string
      doi:
        description: |-
          Identificadores Únicos
          @example 10.1038/s41586-024-07146-0
          @maxLength 255
        maxLength: 255
        type: string
      favorite:
        description: Gestão Pessoal
        type: boolean
      fileHash:
        description: |-
          Arquivo
          @example a1b2c3d4e5f6...
          @maxLength 64
        type: string
      fileSize:
        description: '@example 2457600'
        minimum: 0
        type: integer
      fullContent:
        type: string
      id:
        description: |-
          Primary Key
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      indexedAt:
        description: Metadados do Sistema
        type: string
      internalLink:
        description: '@example /uploads/articles/550e8400-e29b-41d4-a716-446655440000.pdf'
        maxLength: 2048
        type: string
      issn:
        description: |-
          @example 0028-0836
          @maxLength 20
        maxLength: 20
        type: string
      journal:
        description: |-
          @minLength 1
          @maxLength 500
        maxLength: 500
        minLength: 1
        type: string
      keywords:
        description: '@items.type string'
        items:
          type: string
        type: array
      language:
        description: |-
          @minLength 2
          @maxLength 10
          @example en
        maxLength: 10
        minLength: 2
        type: string
      lastAccessedAt:
        type: string
      meshTerms:
        description: '@items.type string'
        items:
          type: string
        type: array
      notes:
        description: Notas pessoais do médico
        type: string
      originalLink:
        description: |-
          Links
          @example https://www.nature.com/articles/s41586-024-07146-0
        maxLength: 2048
        type: string
      pmid:
        description: |-
          @example 38355808
          @maxLength 50
        maxLength: 50
        type: string
      publishDate:
        description: '@example 2024-03-15'
        type: string
      rating:
        description: |-
          @minimum 0
          @maximum 5
          @example 4
        maximum: 5
        minimum: 0
        type: integer
      scoreItems:
        description: |-
          Relationships
          @items.type object
        items:
          $ref: '#/definitions/models.ScoreItem'
        type: array
      specialty:
        description: |-
          @example Cardiology
          @maxLength 200
        maxLength: 200
        type: string
      title:
        description: |-
          Metadados Bibliográficos Essenciais
          @minLength 3
          @maxLength 1000
        maxLength: 1000
        minLength: 3
        type: string
      updatedAt:
        type: string
      updatedBy:
        description: User ID que atualizou
        type: string
    required:
    - articleType
    - authors
    - journal
    - language
    - publishDate
    - title
    type: object
  models.BloodType:
    enum:
    - A+
    - A-
    - B+
    - B-
    - AB+
    - AB-
    - O+
    - O-
    type: string
    x-enum-varnames:
    - BloodTypeAPositive
    - BloodTypeANegative
    - BloodTypeBPositive
    - BloodTypeBNegative
    - BloodTypeABPositive
    - BloodTypeABNegative
    - BloodTypeOPositive
    - BloodTypeONegative
  models.Gender:
    enum:
    - male
    - female
    - other
    type: string
    x-enum-varnames:
    - GenderMale
    - GenderFemale
    - GenderOther
  models.LabRequest:
    description: Pedido de exames laboratoriais para um paciente
    properties:
      certificateSerial:
        description: |-
          Número de série do certificado usado na assinatura
          @example 1234567890ABCDEF
        type: string
      createdAt:
        description: Timestamps
        type: string
      date:
        description: |-
          Data do pedido
          @required
        type: string
      doctor:
        $ref: '#/definitions/models.User'
      doctorId:
        description: ID do médico solicitante (opcional)
        type: string
      exams:
        description: |-
          Lista de exames solicitados (texto livre, um exame por linha)
          @example "Hemograma Completo\nGlicemia de Jejum\nColesterol Total"
        type: string
      id:
        description: ID único do pedido
        type: string
      labRequestTemplate:
        $ref: '#/definitions/models.LabRequestTemplate'
      labRequestTemplateId:
        description: ID do template utilizado (opcional)
        type: string
      notes:
        description: Observações do médico (opcional)
        type: string
      patient:
        allOf:
        - $ref: '#/definitions/models.Patient'
        description: Relacionamentos
      patientId:
        description: |-
          ID do paciente
          @required
        type: string
      pdfUrl:
        description: URL do PDF gerado (quando gerado, o pedido fica bloqueado para
          edição)
        type: string
      qrCodeData:
        description: |-
          Dados do QR Code (URL de validação)
          @example https://plenya.com.br/lab-requests/validate/550e8400...
        type: string
      signedAt:
        description: Data/hora da assinatura digital
        type: string
      signedPdfHash:
        description: |-
          Hash SHA-256 do PDF assinado (integridade)
          @example a1b2c3d4e5f6...
        type: string
      signedPdfPath:
        description: |-
          Caminho do PDF assinado
          @example /app/uploads/lab-requests/lab_request_550e8400_signed.pdf
        type: string
      updatedAt:
        type: string
    required:
    - date
    - exams
    - patientId
    type: object
  models.LabRequestTemplate:
    description: Template pré-configurado com lista de exames para facilitar solicitações
    properties:
      createdAt:
        description: Timestamps
        type: string
      description:
        description: |-
          Descrição do template
          @example "Exames de rotina para check-up anual geral"
        type: string
      displayOrder:
        description: Ordem de exibição/prioridade
        type: integer
      id:
        description: ID único do template
        type: string
      isActive:
        description: Status (ativo/inativo)
        type: boolean
      labTests:
        description: Exames incluídos neste template (many-to-many)
        items:
          $ref: '#/definitions/models.LabTestDefinition'
        type: array
      name:
        description: |-
          Nome do template
          @example "Check-up Anual", "Avaliação Cardíaca", "Perfil Tireoidiano"
          @required
        maxLength: 200
        type: string
      updatedAt:
        type: string
    required:
    - name
    type: object
  models.LabResult:
    description: Resultado individual de um exame dentro de um lote (batch)
    properties:
      createdAt:
        description: Data de criação
        type: string
      id:
        description: ID único do resultado
        type: string
      interpretation:
        description: Interpretação/Observações específicas deste teste
        type: string
      labResultBatch:
        allOf:
        - $ref: '#/definitions/models.LabResultBatch'
        description: Relações
      labResultBatchId:
        description: ID do lote de resultados (obrigatório)
        type: string
      labResultValues:
        items:
          $ref: '#/definitions/models.LabResultValue'
        type: array
      labTestDefinition:
        $ref: '#/definitions/models.LabTestDefinition'
      labTestDefinitionId:
        description: ID da definição do teste (opcional - FK para LabTestDefinition)
        type: string
      level:
        description: Nível/Prioridade do resultado (opcional)
        type: integer
      matched:
        description: |-
          Indica se o exame foi matched com uma definição catalogada
          true = matched com LabTestDefinition, false = extraído mas não catalogado
        type: boolean
      resultNumeric:
        description: Resultado numérico (para exames quantitativos)
        type: number
      resultText:
        description: Resultado em texto (para exames qualitativos)
        type: string
      testName:
        description: Nome do exame
        type: string
      testType:
        description: 'Tipo de exame (ex: hemograma, glicemia, etc)'
        type: string
      unit:
        description: Unidade de medida
        type: string
      updatedAt:
        description: Data de atualização
        type: string
    required:
    - labResultBatchId
    - testName
    - testType
    type: object
  models.LabResultBatch:
    description: Agrupa resultados de uma mesma coleta/laboratório
    properties:
      attachments:
        description: Anexos (PDFs/scans do lote completo) - JSON array de URLs
        type: string
      collectionDate:
        description: Data da coleta
        type: string
      createdAt:
        description: Data de criação
        type: string
      id:
        description: ID único do lote
        type: string
      labRequest:
        $ref: '#/definitions/models.LabRequest'
      labRequestId:
        description: ID do pedido laboratorial (opcional - pode ser entrada manual)
        type: string
      labResults:
        items:
          $ref: '#/definitions/models.LabResult'
        type: array
      laboratoryName:
        description: |-
          Nome do laboratório
          @example Laboratório São Paulo, Fleury, Dasa
        maxLength: 200
        type: string
      observations:
        description: Observações gerais do lote
        type: string
      patient:
        allOf:
        - $ref: '#/definitions/models.Patient'
        description: Relacionamentos
      patientId:
        description: ID do paciente
        type: string
      pdfContentFull:
        description: Conteúdo completo extraído do PDF via OCR (texto bruto)
        type: string
      pdfContentJson:
        description: Conteúdo processado pela IA em formato JSON estruturado
        type: string
      pdfContentNeedAi:
        description: Conteúdo que precisa de IA (após remover exames já matched via
          pré-matching)
        type: string
      pdfContentShort:
        description: Conteúdo processado/limpo do PDF (removendo ruído)
        type: string
      requestingDoctor:
        $ref: '#/definitions/models.User'
      requestingDoctorId:
        description: ID do médico solicitante (opcional)
        type: string
      resultDate:
        description: Data de disponibilização dos resultados
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.LabResultBatchStatus'
        description: |-
          Status do lote
          @enum pending,partial,completed
      updatedAt:
        description: Data de atualização
        type: string
    required:
    - collectionDate
    - laboratoryName
    - status
    type: object
  models.LabResultBatchStatus:
    enum:
    - pending
    - partial
    - completed
    type: string
    x-enum-comments:
      LabResultBatchCompleted: Completo
      LabResultBatchPartial: Parcial
      LabResultBatchPending: Aguardando
    x-enum-descriptions:
    - Aguardando
    - Parcial
    - Completo
    x-enum-varnames:
    - LabResultBatchPending
    - LabResultBatchPartial
    - LabResultBatchCompleted
  models.LabResultValue:
    description: Valor estruturado de um parâmetro de exame laboratorial
    properties:
      booleanValue:
        description: Valor booleano (para resultados sim/não)
        type: boolean
      createdAt:
        description: Timestamps
        type: string
      id:
        description: ID único do valor
        type: string
      labResult:
        allOf:
        - $ref: '#/definitions/models.LabResult'
        description: Relacionamentos
      labResultId:
        description: ID do resultado laboratorial (LabResult)
        type: string
      labTestDefinition:
        $ref: '#/definitions/models.LabTestDefinition'
      labTestDefinitionId:
        description: ID da definição do teste (LabTestDefinition)
        type: string
      notes:
        description: Observações sobre o valor
        type: string
      numericValue:
        description: Valor numérico (para resultados quantitativos)
        type: number
      textValue:
        description: |-
          Valor textual (para resultados qualitativos)
          @example Negativo, Positivo, Reagente, Não Reagente
        type: string
      unit:
        description: Unidade de medida do valor (pode sobrescrever a unidade padrão)
        type: string
      updatedAt:
        type: string
    required:
    - labResultId
    - labTestDefinitionId
    type: object
  models.LabResultView:
    description: View customizada para ordenação de exames na tabela pivot
    properties:
      createdAt:
        type: string
      description:
        type: string
      displayOrder:
        description: |-
          @minimum 0
          @maximum 9999
        maximum: 9999
        minimum: 0
        type: integer
      id:
        description: '@example 019c1a1e-0579-7f3b-a1bd-4767008e844c'
        type: string
      isActive:
        description: '@example true'
        type: boolean
      items:
        items:
          $ref: '#/definitions/models.LabResultViewItem'
        type: array
      name:
        description: |-
          @minLength 2
          @maxLength 200
        maxLength: 200
        minLength: 2
        type: string
      updatedAt:
        type: string
    required:
    - name
    type: object
  models.LabResultViewItem:
    description: Item de exame com ordem específica dentro de uma view
    properties:
      createdAt:
        type: string
      id:
        description: '@example 019c1a1e-0579-7f3b-a1bd-4767008e844c'
        type: string
      labResultView:
        $ref: '#/definitions/models.LabResultView'
      labResultViewId:
        description: '@example 019c1a1e-0579-7f3b-a1bd-4767008e844c'
        type: string
      labTestDefinition:
        $ref: '#/definitions/models.LabTestDefinition'
      labTestDefinitionId:
        description: '@example 019c1a1e-0579-7f3b-a1bd-4767008e844c'
        type: string
      order:
        description: |-
          @minimum 0
          @maximum 9999
        maximum: 9999
        minimum: 0
        type: integer
      updatedAt:
        type: string
    required:
    - labResultViewId
    - labTestDefinitionId
    type: object
  models.LabTestCategory:
    enum:
    - hematology
    - biochemistry
    - hormones
    - immunology
    - microbiology
    - urine
    - imaging
    - functional
    - genetics
    - other
    type: string
    x-enum-comments:
      LabTestCategoryBiochemistry: Glicose, ureia, creatinina
      LabTestCategoryFunctional: Medicina funcional
      LabTestCategoryGenetics: Testes genéticos
      LabTestCategoryHematology: Hemograma, coagulação
      LabTestCategoryHormones: TSH, T4, testosterona
      LabTestCategoryImaging: Raio-X, TC, RM
      LabTestCategoryImmunology: Sorologias, autoimunes
      LabTestCategoryMicrobiology: Culturas, antibiogramas
      LabTestCategoryOther: Outros
      LabTestCategoryUrine: EAS, urocultura
    x-enum-descriptions:
    - Hemograma, coagulação
    - Glicose, ureia, creatinina
    - TSH, T4, testosterona
    - Sorologias, autoimunes
    - Culturas, antibiogramas
    - EAS, urocultura
    - Raio-X, TC, RM
    - Medicina funcional
    - Testes genéticos
    - Outros
    x-enum-varnames:
    - LabTestCategoryHematology
    - LabTestCategoryBiochemistry
    - LabTestCategoryHormones
    - LabTestCategoryImmunology
    - LabTestCategoryMicrobiology
    - LabTestCategoryUrine
    - LabTestCategoryImaging
    - LabTestCategoryFunctional
    - LabTestCategoryGenetics
    - LabTestCategoryOther
  models.LabTestDefinition:
    description: Definição estruturada de exames e seus parâmetros
    properties:
      altNames:
        description: |-
          Nomes alternativos para matching em PDFs (sempre inclui Name também)
          Array de strings com variações do nome encontradas em laudos
          NUNCA incluir siglas (siglas vão em ShortName)
          @example ["Hemoglobina", "Hemoglobina total", "Hemoglobina - Homens", "Hemoglobina - Mulheres"]
        items:
          type: string
        type: array
      category:
        allOf:
        - $ref: '#/definitions/models.LabTestCategory'
        description: |-
          Categoria do exame
          @enum hematology,biochemistry,hormones,immunology,microbiology,urine,imaging,functional,genetics,other
      clinicalIndications:
        description: Indicações clínicas principais
        type: string
      clinicalRecommendations:
        description: |-
          Recomendações clínicas (150-300 palavras)
          Quando solicitar, interpretação de resultados, fatores que afetam valores, intervenções
        type: string
      clinicalSignificance:
        description: |-
          Significância clínica detalhada (200-400 palavras)
          Mecanismos fisiológicos, aplicações clínicas, interpretação de valores alterados
        type: string
      code:
        description: |-
          Código interno único (usado para referência programática)
          @example HEMOGRAMA_COMPLETO, HGB, GLUCOSE_FASTING
        maxLength: 100
        type: string
      collectionMethod:
        description: |-
          Método de coleta/realização
          @example Sangue venoso com jejum de 8-12h
        type: string
      createdAt:
        description: Timestamps
        type: string
      description:
        description: Descrição/observações sobre o exame
        type: string
      displayOrder:
        description: Ordem de exibição (para organizar parâmetros de um exame)
        type: integer
      fastingHours:
        description: Tempo de jejum necessário (em horas)
        type: integer
      id:
        description: ID único da definição
        type: string
      isActive:
        description: Status (ativo/inativo)
        type: boolean
      isRequestable:
        description: |-
          Indica se o exame pode ser solicitado individualmente
          true: pode ser solicitado (ex: Hemograma Completo, Glicemia)
          false: só aparece como resultado de outro exame (ex: Hemoglobina, Bilirrubina Indireta)
        type: boolean
      loincCode:
        description: |-
          Código LOINC (Logical Observation Identifiers Names and Codes)
          Padrão internacional para identificação de exames
          @example 718-7 (Hemoglobin)
        type: string
      longevityContext:
        description: |-
          Contexto de longevidade (100-200 palavras)
          Relação com envelhecimento saudável, marcadores de longevidade, implicações preventivas
        type: string
      name:
        description: |-
          Nome do exame/parâmetro
          @example Hemograma Completo, Hemoglobina, Glicemia de Jejum
        maxLength: 300
        type: string
      parentTest:
        allOf:
        - $ref: '#/definitions/models.LabTestDefinition'
        description: Exame pai (se for um parâmetro/subexame)
      parentTestId:
        description: |-
          ID do exame pai (hierarquia)
          Ex: Hemoglobina tem parentTestId = Hemograma Completo
          Ex: Bilirrubina Indireta tem parentTestId = Bilirrubina Total e Frações
        type: string
      resultType:
        description: |-
          Tipo de resultado
          @enum numeric, text, boolean, categorical
        type: string
      scoreItems:
        description: |-
          ScoreItems relacionados via código (oneToMany: labTestDefinition.code -> scoreItem.labTestCode)
          Múltiplos ScoreItems podem ter o mesmo código (ex: variantes por gênero/idade)
        items:
          $ref: '#/definitions/models.ScoreItem'
        type: array
      shortName:
        description: |-
          Nome curto/abreviação (opcional) - usado para exibição
          @example Hemograma, Hb, Gli
        type: string
      specimenType:
        description: |-
          Material biológico
          @example Sangue total, Soro, Urina, Fezes
        type: string
      subTests:
        description: Subexames/parâmetros (se for um exame composto)
        items:
          $ref: '#/definitions/models.LabTestDefinition'
        type: array
      tussCode:
        description: |-
          Código TUSS (Terminologia Unificada da Saúde Suplementar)
          Usado para faturamento e solicitação no Brasil
          @example 40304485
        type: string
      unit:
        description: |-
          Unidade de medida padrão
          @example g/dL, mg/dL, mU/L, %
        type: string
      unitConversion:
        description: |-
          Fórmula de conversão entre unidades (se aplicável)
          @example 1 g/dL = 10 g/L
        type: string
      updatedAt:
        type: string
    required:
    - category
    - code
    - name
    - resultType
    type: object
  models.MaritalStatus:
    enum:
    - single
    - married
    - divorced
    - widowed
    - other
    type: string
    x-enum-varnames:
    - MaritalStatusSingle
    - MaritalStatusMarried
    - MaritalStatusDivorced
    - MaritalStatusWidowed
    - MaritalStatusOther
  models.MedicationCategory:
    enum:
    - simple
    - c1
    - c5
    - antibiotic
    - glp1
    type: string
    x-enum-comments:
      MedCategoryAntibiotic: Antimicrobianos (RDC 471)
      MedCategoryC1: Controle Especial (Lista C1)
      MedCategoryC5: Psicotrópicos (Lista C5)
      MedCategoryGLP1: GLP-1 agonistas
      MedCategorySimple: Receita simples
    x-enum-descriptions:
    - Receita simples
    - Controle Especial (Lista C1)
    - Psicotrópicos (Lista C5)
    - Antimicrobianos (RDC 471)
    - GLP-1 agonistas
    x-enum-varnames:
    - MedCategorySimple
    - MedCategoryC1
    - MedCategoryC5
    - MedCategoryAntibiotic
    - MedCategoryGLP1
  models.MedicationDefinition:
    description: Definição de medicamento com regras regulatórias (ANVISA)
    properties:
      activeIngredient:
        description: |-
          Princípio ativo (DCB - Denominação Comum Brasileira)
          @minLength 3
          @maxLength 500
          @example Cloridrato de Fluoxetina
        maxLength: 500
        minLength: 3
        type: string
      anvisaCode:
        description: |-
          Código ANVISA do medicamento
          @example 1234567890123
        type: string
      category:
        allOf:
        - $ref: '#/definitions/models.MedicationCategory'
        description: |-
          Categoria regulatória do medicamento
          @enum simple,c1,c5,antibiotic,glp1
        enum:
        - simple
        - c1
        - c5
        - antibiotic
        - glp1
      commonName:
        description: |-
          Nome comercial comum do medicamento
          @minLength 3
          @maxLength 500
          @example Fluoxetina 20mg
        maxLength: 500
        minLength: 3
        type: string
      createdAt:
        description: Timestamps
        type: string
      id:
        description: |-
          ID único da definição
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      maxPerPrescription:
        description: |-
          Máximo de substâncias por prescrição
          @example 3
          C1: máximo 3 substâncias
        maximum: 100
        minimum: 1
        type: integer
      maxTreatmentDays:
        description: |-
          Duração máxima do tratamento em dias
          @example 60
          C1: 60 dias, Anticonvulsivantes: 180 dias
        maximum: 365
        minimum: 1
        type: integer
      requiresDigitalSignature:
        description: |-
          Requer assinatura digital ICP-Brasil
          true para medicamentos controlados (C1, C5)
        type: boolean
      requiresSNCR:
        description: |-
          Requer registro no SNCR (Sistema Nacional de Controle de Receitas)
          true para medicamentos controlados
        type: boolean
      updatedAt:
        type: string
      validityDays:
        description: |-
          Dias de validade da prescrição
          @example 30
          C1: 30 dias, Antibióticos: 10 dias, GLP1: 90 dias, Simples: 30 dias
        maximum: 365
        minimum: 1
        type: integer
    required:
    - activeIngredient
    - category
    - commonName
    - maxPerPrescription
    - maxTreatmentDays
    - validityDays
    type: object
  models.Patient:
    description: Paciente com dados pessoais e médicos
    properties:
      address:
        description: Endereço residencial (opcional)
        type: string
      age:
        description: |-
          Idade em anos (calculado automaticamente)
          @example 35
        type: integer
      ageText:
        description: |-
          Idade formatada (calculado automaticamente)
          @example 35a6m15d
        type: string
      birthDate:
        description: |-
          Data de nascimento
          @example 1990-01-01
        type: string
      bloodType:
        allOf:
        - $ref: '#/definitions/models.BloodType'
        description: |-
          Tipo sanguíneo (opcional)
          @enum A+,A-,B+,B-,AB+,AB-,O+,O-
          @example A+
        enum:
        - A+
        - A-
        - B+
        - B-
        - AB+
        - AB-
        - O+
        - O-
      createdAt:
        description: Data de criação
        type: string
      email:
        description: |-
          Email pessoal (opcional)
          @example joao@email.com
        type: string
      emergencyContact:
        description: |-
          Nome do contato de emergência (opcional)
          @example Maria da Silva
        type: string
      emergencyPhone:
        description: |-
          Telefone do contato de emergência (opcional)
          @example (11) 99999-9999
        minLength: 10
        type: string
      fatherName:
        description: |-
          Nome do pai (opcional)
          @example José da Silva
        type: string
      gender:
        allOf:
        - $ref: '#/definitions/models.Gender'
        description: |-
          Gênero biológico do paciente
          @enum male,female,other
          @example male
        enum:
        - male
        - female
        - other
      height:
        description: |-
          Altura em centímetros (opcional)
          @example 180.0
        type: number
      id:
        description: |-
          ID único do paciente
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      maritalStatus:
        allOf:
        - $ref: '#/definitions/models.MaritalStatus'
        description: |-
          Estado civil (opcional)
          @enum single,married,divorced,widowed,other
          @example married
        enum:
        - single
        - married
        - divorced
        - widowed
        - other
      motherName:
        description: |-
          Nome da mãe (opcional)
          @example Maria da Silva
        type: string
      municipality:
        description: |-
          Município de residência (opcional)
          @example São Paulo
        type: string
      name:
        description: |-
          Nome completo do paciente
          @minLength 3
          @maxLength 200
          @example João da Silva
        maxLength: 200
        minLength: 3
        type: string
      occupation:
        description: |-
          Profissão/ocupação (opcional)
          @example Engenheiro
        type: string
      phone:
        description: |-
          Telefone de contato (opcional)
          @example (11) 98765-4321
        minLength: 10
        type: string
      socialGender:
        allOf:
        - $ref: '#/definitions/models.SocialGender'
        description: |-
          Identidade de gênero social (opcional)
          @enum male,female,non_binary,trans_male,trans_female,other,prefer_not_to_say
          @example female
        enum:
        - male
        - female
        - non_binary
        - trans_male
        - trans_female
        - other
        - prefer_not_to_say
      state:
        description: |-
          Estado/UF de residência (opcional)
          @example SP
        type: string
      updatedAt:
        description: Data de atualização
        type: string
      user:
        allOf:
        - $ref: '#/definitions/models.User'
        description: Relações
      userId:
        description: ID do usuário associado
        type: string
      weight:
        description: |-
          Peso em kilogramas (opcional)
          @example 68.6
        type: number
    required:
    - birthDate
    - gender
    - name
    type: object
  models.ProcessingJobStatus:
    enum:
    - pending
    - processing
    - completed
    - failed
    type: string
    x-enum-varnames:
    - ProcessingJobPending
    - ProcessingJobProcessing
    - ProcessingJobCompleted
    - ProcessingJobFailed
  models.ProcessingJobType:
    enum:
    - pdf_extraction
    type: string
    x-enum-varnames:
    - ProcessingJobTypePDFExtraction
  models.ScoreGroup:
    description: Grupo de escores clínicos - categoria principal
    properties:
      createdAt:
        description: Timestamps
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      name:
        description: |-
          @minLength 2
          @maxLength 200
          @example Hemograma Completo
        maxLength: 200
        minLength: 2
        type: string
      order:
        description: |-
          @minimum 0
          @maximum 9999
          @example 1
        maximum: 9999
        minimum: 0
        type: integer
      subgroups:
        description: Relationships
        items:
          $ref: '#/definitions/models.ScoreSubgroup'
        type: array
      updatedAt:
        type: string
    required:
    - name
    type: object
  models.ScoreItem:
    description: Item de escore - parâmetro clínico específico
    properties:
      articles:
        description: |-
          Many-to-many relationship with Articles
          @items.type object
        items:
          $ref: '#/definitions/models.Article'
        type: array
      childItems:
        items:
          $ref: '#/definitions/models.ScoreItem'
        type: array
      clinicalRelevance:
        description: |-
          Relevância clínica - explicação técnica para profissionais de saúde
          @example Valores baixos de hemoglobina indicam anemia, que pode estar associada a fadiga, redução da capacidade funcional e aumento do risco cardiovascular
        type: string
      conduct:
        description: |-
          Conduta clínica recomendada
          @example Investigar causa da anemia (deficiência de ferro, B12, folato, doença crônica). Suplementação conforme indicação. Encaminhar ao hematologista se Hb < 10 g/dL ou causa não esclarecida
        type: string
      createdAt:
        description: Timestamps
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      labTestCode:
        description: |-
          Código de referência para LabTestDefinition (pode ser compartilhado entre múltiplos score_items)
          Liga ao lab_test_definitions.code para associar resultados de exames
          @example PLN585CE3E3, PLNF66C0E48, GLUCOSE_FASTING
        maxLength: 100
        type: string
      lastReview:
        description: |-
          Data da última revisão dos campos clínicos ou artigos associados
          @example 2026-01-25T10:30:00Z
        type: string
      levels:
        items:
          $ref: '#/definitions/models.ScoreLevel'
        type: array
      name:
        description: |-
          @minLength 2
          @maxLength 300
          @example Hemoglobina - Homens
        maxLength: 300
        minLength: 2
        type: string
      order:
        description: |-
          @minimum 0
          @maximum 9999
          @example 1
        maximum: 9999
        minimum: 0
        type: integer
      parentItem:
        $ref: '#/definitions/models.ScoreItem'
      parentItemId:
        description: |-
          Self-referencing for hierarchical items (optional)
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      patientExplanation:
        description: |-
          Explicação para o paciente - linguagem simples e acessível
          @example Hemoglobina é a proteína que transporta oxigênio no sangue. Valores baixos podem causar cansaço e falta de ar
        type: string
      points:
        description: |-
          @minimum 0
          @maximum 100
          @example 20
        maximum: 100
        minimum: 0
        type: number
      subgroup:
        allOf:
        - $ref: '#/definitions/models.ScoreSubgroup'
        description: Relationships
      subgroupId:
        description: |-
          Foreign Keys
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      unit:
        description: '@example g/dL'
        maxLength: 50
        type: string
      unitConversion:
        description: '@example 1 g/dL = 10 g/L'
        type: string
      updatedAt:
        type: string
    required:
    - name
    - subgroupId
    type: object
  models.ScoreLevel:
    description: Nível de estratificação de risco para um item de escore
    properties:
      clinicalRelevance:
        description: |-
          Relevância clínica - explicação técnica para profissionais de saúde
          @example FEVE entre 55-70% indica função cardíaca normal. Redução abaixo de 50% sugere disfunção sistólica leve, com risco aumentado de insuficiência cardíaca
        type: string
      conduct:
        description: |-
          Conduta clínica recomendada
          @example Manter acompanhamento regular. Otimizar controle de fatores de risco cardiovascular (pressão arterial, diabetes, colesterol). Considerar ecocardiograma de controle em 12 meses
        type: string
      createdAt:
        description: Timestamps
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      item:
        allOf:
        - $ref: '#/definitions/models.ScoreItem'
        description: Relationships
      itemId:
        description: |-
          Foreign Keys
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      lastReview:
        description: |-
          Data da última revisão dos campos clínicos
          @example 2026-01-25T10:30:00Z
        type: string
      level:
        description: |-
          @minimum 0
          @maximum 6
          @example 5
        maximum: 6
        minimum: 0
        type: integer
      lowerLimit:
        description: '@example <40'
        maxLength: 50
        type: string
      name:
        description: |-
          @minLength 1
          @maxLength 500
          @example 55 a 70 (Ótimo)
        maxLength: 500
        minLength: 1
        type: string
      operator:
        description: |-
          @enum =,>,>=,<,<=,between
          @example between
        type: string
      patientExplanation:
        description: |-
          Explicação para o paciente - linguagem simples e acessível
          @example Seu coração está bombeando sangue de forma eficiente. Este é um resultado normal e saudável
        type: string
      updatedAt:
        type: string
      upperLimit:
        description: '@example 49.9'
        maxLength: 50
        type: string
    required:
    - itemId
    - level
    - name
    - operator
    type: object
  models.ScoreSubgroup:
    description: Subgrupo de escores - subcategoria dentro de um grupo
    properties:
      createdAt:
        description: Timestamps
        type: string
      group:
        allOf:
        - $ref: '#/definitions/models.ScoreGroup'
        description: Relationships
      groupId:
        description: |-
          Foreign Keys
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      id:
        description: '@example 550e8400-e29b-41d4-a716-446655440000'
        type: string
      items:
        items:
          $ref: '#/definitions/models.ScoreItem'
        type: array
      name:
        description: |-
          @minLength 2
          @maxLength 200
          @example Série Vermelha
        maxLength: 200
        minLength: 2
        type: string
      order:
        description: |-
          @minimum 0
          @maximum 9999
          @example 1
        maximum: 9999
        minimum: 0
        type: integer
      updatedAt:
        type: string
    required:
    - groupId
    - name
    type: object
  models.SocialGender:
    enum:
    - male
    - female
    - non_binary
    - trans_male
    - trans_female
    - other
    - prefer_not_to_say
    type: string
    x-enum-varnames:
    - SocialGenderMale
    - SocialGenderFemale
    - SocialGenderNonBinary
    - SocialGenderTransMale
    - SocialGenderTransFemale
    - SocialGenderOther
    - SocialGenderPreferNotToSay
  models.User:
    description: Usuário base do sistema (profissionais e pacientes)
    properties:
      certificateActive:
        description: |-
          Se o certificado está ativo (desativa automaticamente se CPF do usuário mudar)
          @example true
        type: boolean
      certificateCPF:
        description: |-
          CPF do titular do certificado (extraído do certificado ICP-Brasil)
          @example 123.456.789-00
        type: string
      certificateExpiry:
        description: |-
          Data de expiração do certificado A1
          @example 2027-12-31T23:59:59Z
        type: string
      certificateName:
        description: |-
          Nome do titular do certificado (extraído do certificado ICP-Brasil)
          @example João da Silva
        type: string
      certificateSerial:
        description: |-
          Número de série do certificado A1
          @example 1234567890ABCDEF
        type: string
      createdAt:
        description: Data de criação
        type: string
      crm:
        description: |-
          Dados profissionais (obrigatórios para role doctor)
          Número do CRM
          @example 123456
        maxLength: 20
        type: string
      crmUF:
        description: |-
          UF do CRM
          @example SP
        type: string
      email:
        description: |-
          Email único do usuário
          @example usuario@example.com
        type: string
      id:
        description: |-
          ID único do usuário
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      name:
        description: |-
          Nome completo do usuário
          @minLength 3
          @maxLength 200
          @example Dr. João da Silva
        maxLength: 200
        minLength: 3
        type: string
      oauthPictureURL:
        description: OAuth profile picture URL
        type: string
      preferences:
        description: |-
          Preferências do usuário (viewport do mindmap, etc.)
          @example {"mindmapViewport":{"x":0,"y":0,"zoom":0.7}}
        items:
          type: integer
        type: array
      professionalAddress:
        description: |-
          Endereço profissional completo
          @example Rua das Flores, 123 - Centro - São Paulo/SP - CEP 01234-567
        type: string
      professionalPhone:
        description: |-
          Telefone profissional
          @example (11) 98765-4321
        type: string
      roles:
        description: |-
          Roles do usuário no sistema (array JSON)
          @example ["doctor","nutritionist"]
        items:
          type: integer
        type: array
      rqe:
        description: |-
          Registro de Qualificação de Especialista
          @example RQE-12345
        type: string
      selectedPatient:
        allOf:
        - $ref: '#/definitions/models.Patient'
        description: Relações
      selectedPatientId:
        description: |-
          ID do paciente selecionado (contexto atual de trabalho)
          @example 550e8400-e29b-41d4-a716-446655440000
        type: string
      specialty:
        description: |-
          Especialidade médica
          @example Cardiologia
        type: string
      twoFactorEnabled:
        description: Se 2FA está habilitado
        type: boolean
      updatedAt:
        description: Data de atualização
        type: string
    required:
    - email
    - name
    type: object
  services.CreateArticleDTO:
    properties:
      abstract:
        type: string
      articleType:
        enum:
        - research_article
        - review
        - meta_analysis
        - case_study
        - clinical_trial
        - editorial
        - letter
        - protocol
        - lecture
        type: string
      authors:
        maxLength: 2000
        minLength: 1
        type: string
      doi:
        maxLength: 255
        type: string
      favorite:
        type: boolean
      fullContent:
        type: string
      internalLink:
        maxLength: 2048
        type: string
      issn:
        maxLength: 20
        type: string
      journal:
        maxLength: 500
        minLength: 1
        type: string
      keywords:
        items:
          type: string
        type: array
      language:
        maxLength: 10
        minLength: 2
        type: string
      meshTerms:
        items:
          type: string
        type: array
      notes:
        type: string
      originalLink:
        maxLength: 2048
        type: string
      pmid:
        maxLength: 50
        type: string
      publishDate:
        type: string
      rating:
        maximum: 5
        minimum: 0
        type: integer
      specialty:
        maxLength: 200
        type: string
      title:
        maxLength: 1000
        minLength: 3
        type: string
    required:
    - articleType
    - authors
    - journal
    - language
    - publishDate
    - title
    type: object
  services.CreateScoreGroupDTO:
    properties:
      name:
        maxLength: 200
        minLength: 2
        type: string
      order:
        type: integer
    required:
    - name
    type: object
  services.CreateScoreItemDTO:
    properties:
      name:
        maxLength: 300
        minLength: 2
        type: string
      order:
        type: integer
      parentItemId:
        type: string
      points:
        maximum: 100
        minimum: 0
        type: number
      subgroupId:
        type: string
      unit:
        maxLength: 50
        type: string
      unitConversion:
        type: string
    required:
    - name
    - subgroupId
    type: object
  services.CreateScoreLevelDTO:
    properties:
      itemId:
        type: string
      level:
        maximum: 6
        minimum: 0
        type: integer
      lowerLimit:
        maxLength: 50
        type: string
      name:
        maxLength: 500
        minLength: 1
        type: string
      operator:
        type: string
      upperLimit:
        maxLength: 50
        type: string
    required:
    - itemId
    - level
    - name
    - operator
    type: object
  services.CreateScoreSubgroupDTO:
    properties:
      groupId:
        type: string
      name:
        maxLength: 200
        minLength: 2
        type: string
      order:
        type: integer
    required:
    - groupId
    - name
    type: object
  services.UpdateArticleDTO:
    properties:
      abstract:
        type: string
      articleType:
        enum:
        - research_article
        - review
        - meta_analysis
        - case_study
        - clinical_trial
        - editorial
        - letter
        - protocol
        - lecture
        type: string
      authors:
        maxLength: 2000
        minLength: 1
        type: string
      doi:
        maxLength: 255
        type: string
      favorite:
        type: boolean
      fullContent:
        type: string
      issn:
        maxLength: 20
        type: string
      journal:
        maxLength: 500
        minLength: 1
        type: string
      keywords:
        items:
          type: string
        type: array
      language:
        maxLength: 10
        minLength: 2
        type: string
      meshTerms:
        items:
          type: string
        type: array
      notes:
        type: string
      originalLink:
        maxLength: 2048
        type: string
      pmid:
        maxLength: 50
        type: string
      publishDate:
        type: string
      rating:
        maximum: 5
        minimum: 0
        type: integer
      specialty:
        maxLength: 200
        type: string
      title:
        maxLength: 1000
        minLength: 3
        type: string
    type: object
  services.UpdateScoreGroupDTO:
    properties:
      name:
        maxLength: 200
        minLength: 2
        type: string
      order:
        maximum: 9999
        minimum: 0
        type: integer
    type: object
  services.UpdateScoreItemDTO:
    properties:
      clinicalRelevance:
        type: string
      conduct:
        type: string
      lastReview:
        type: string
      name:
        maxLength: 300
        minLength: 2
        type: string
      order:
        maximum: 9999
        minimum: 0
        type: integer
      parentItemId:
        type: string
      patientExplanation:
        type: string
      points:
        maximum: 100
        minimum: 0
        type: number
      subgroupId:
        type: string
      unit:
        maxLength: 50
        type: string
      unitConversion:
        type: string
    type: object
  services.UpdateScoreLevelDTO:
    properties:
      level:
        maximum: 6
        minimum: 0
        type: integer
      lowerLimit:
        maxLength: 50
        type: string
      name:
        maxLength: 500
        minLength: 1
        type: string
      operator:
        type: string
      upperLimit:
        maxLength: 50
        type: string
    type: object
  services.UpdateScoreSubgroupDTO:
    properties:
      name:
        maxLength: 200
        minLength: 2
        type: string
      order:
        maximum: 9999
        minimum: 0
        type: integer
    type: object
host: localhost:3001
info:
  contact:
    email: suporte@plenya.com.br
    name: API Support
  description: Sistema de Prontuário Médico Eletrônico
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Plenya EMR API
  version: "1.0"
paths:
  /admin/certificates/{userId}/toggle:
    patch:
      consumes:
      - application/json
      description: Ativa ou desativa o certificado de um usuário (admin only)
      parameters:
      - description: User ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Toggle certificate active status
      tags:
      - Certificates
  /admin/certificates/upload:
    post:
      consumes:
      - multipart/form-data
      description: Admin uploads certificate A1 (.pfx) for a doctor with password
      parameters:
      - description: Doctor UUID
        in: formData
        name: doctorId
        required: true
        type: string
      - description: Certificate password
        in: formData
        name: password
        required: true
        type: string
      - description: Certificate file (.pfx or .p12)
        in: formData
        name: certificate
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: success and message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - admin only
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload digital certificate A1 for doctor
      tags:
      - Certificates
  /api/v1/anamnesis-templates:
    get:
      parameters:
      - description: Include items
        in: query
        name: withItems
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.AnamnesisTemplate'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get all anamnesis templates
      tags:
      - AnamnesisTemplates
    post:
      consumes:
      - application/json
      parameters:
      - description: Template data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateAnamnesisTemplateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.AnamnesisTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create anamnesis template
      tags:
      - AnamnesisTemplates
  /api/v1/anamnesis-templates/{id}:
    delete:
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete anamnesis template
      tags:
      - AnamnesisTemplates
    get:
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AnamnesisTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get anamnesis template by ID
      tags:
      - AnamnesisTemplates
    put:
      consumes:
      - application/json
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      - description: Template data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateAnamnesisTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AnamnesisTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update anamnesis template
      tags:
      - AnamnesisTemplates
  /api/v1/anamnesis-templates/{id}/items:
    put:
      consumes:
      - application/json
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      - description: Items data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateAnamnesisTemplateItemsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update template items
      tags:
      - AnamnesisTemplates
  /api/v1/anamnesis-templates/search:
    get:
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.AnamnesisTemplate'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Search anamnesis templates
      tags:
      - AnamnesisTemplates
  /api/v1/auth/oauth/apple:
    post:
      consumes:
      - application/json
      description: Autentica usuário via Apple Sign In
      parameters:
      - description: Apple ID Token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.AppleOAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Login com Apple
      tags:
      - auth
  /api/v1/auth/oauth/google:
    post:
      consumes:
      - application/json
      description: Autentica usuário via Google OAuth 2.0
      parameters:
      - description: Google ID Token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.GoogleOAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Login com Google
      tags:
      - auth
  /api/v1/lab-request-templates:
    get:
      parameters:
      - default: false
        description: Include lab tests
        in: query
        name: withTests
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabRequestTemplate'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get all lab request templates
      tags:
      - LabRequestTemplates
    post:
      consumes:
      - application/json
      parameters:
      - description: Lab request template data
        in: body
        name: template
        required: true
        schema:
          $ref: '#/definitions/models.LabRequestTemplate'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create lab request template
      tags:
      - LabRequestTemplates
  /api/v1/lab-request-templates/{id}:
    delete:
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete lab request template
      tags:
      - LabRequestTemplates
    get:
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab request template by ID
      tags:
      - LabRequestTemplates
    put:
      consumes:
      - application/json
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated lab request template data
        in: body
        name: template
        required: true
        schema:
          $ref: '#/definitions/models.LabRequestTemplate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update lab request template
      tags:
      - LabRequestTemplates
  /api/v1/lab-request-templates/{id}/tests:
    post:
      consumes:
      - application/json
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      - description: Test ID
        in: body
        name: test
        required: true
        schema:
          $ref: '#/definitions/handlers.AddLabTestToTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Add lab test to template
      tags:
      - LabRequestTemplates
    put:
      consumes:
      - application/json
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      - description: Test IDs
        in: body
        name: tests
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateLabRequestTemplateTestsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update lab request template tests
      tags:
      - LabRequestTemplates
  /api/v1/lab-request-templates/{id}/tests/{testId}:
    delete:
      parameters:
      - description: Lab request template ID
        in: path
        name: id
        required: true
        type: string
      - description: Test ID to remove
        in: path
        name: testId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequestTemplate'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Remove lab test from template
      tags:
      - LabRequestTemplates
  /api/v1/lab-request-templates/search:
    get:
      parameters:
      - description: Search term
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabRequestTemplate'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Search lab request templates
      tags:
      - LabRequestTemplates
  /api/v1/lab-requests:
    get:
      parameters:
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/models.LabRequest'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get all lab requests
      tags:
      - LabRequests
    post:
      consumes:
      - application/json
      parameters:
      - description: Lab request data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateLabRequestRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LabRequest'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create lab request
      tags:
      - LabRequests
  /api/v1/lab-requests/{id}:
    delete:
      parameters:
      - description: Lab request ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete lab request
      tags:
      - LabRequests
    get:
      parameters:
      - description: Lab request ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequest'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab request by ID
      tags:
      - LabRequests
    put:
      consumes:
      - application/json
      parameters:
      - description: Lab request ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated lab request data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateLabRequestRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequest'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update lab request
      tags:
      - LabRequests
  /api/v1/lab-requests/{id}/generate-pdf:
    post:
      parameters:
      - description: Lab request ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabRequest'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Generate PDF for lab request
      tags:
      - LabRequests
  /api/v1/lab-requests/by-date:
    get:
      parameters:
      - description: Date (YYYY-MM-DD)
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabRequest'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab requests by date
      tags:
      - LabRequests
  /api/v1/lab-requests/by-date-range:
    get:
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: startDate
        required: true
        type: string
      - description: End date (YYYY-MM-DD)
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabRequest'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab requests by date range
      tags:
      - LabRequests
  /api/v1/lab-requests/validate/{id}:
    get:
      description: Validates a lab request using its ID and QR code (no authentication
        required)
      parameters:
      - description: Lab Request UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Validation result with lab request, patient, and doctor info
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Validate lab request publicly
      tags:
      - LabRequests
  /api/v1/lab-result-batches:
    get:
      consumes:
      - application/json
      description: Lista lotes de resultados do paciente selecionado
      parameters:
      - description: Filtro por status
        in: query
        name: status
        type: string
      - default: 50
        description: Limite de resultados
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset de resultados
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/dto.LabResultBatchResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Listar lotes de resultados
      tags:
      - LabResultBatch
    post:
      consumes:
      - application/json
      description: Cria um lote de resultados laboratoriais com múltiplos resultados
      parameters:
      - description: Lote de resultados
        in: body
        name: batch
        required: true
        schema:
          $ref: '#/definitions/dto.CreateLabResultBatchRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.LabResultBatchDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Criar lote de resultados
      tags:
      - LabResultBatch
  /api/v1/lab-result-batches/{batchId}/results/{resultId}:
    delete:
      consumes:
      - application/json
      description: Soft delete de um resultado (admin only)
      parameters:
      - description: ID do lote
        in: path
        name: batchId
        required: true
        type: string
      - description: ID do resultado
        in: path
        name: resultId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Deletar resultado
      tags:
      - LabResultBatch
    put:
      consumes:
      - application/json
      description: Atualiza um resultado individual dentro de um lote
      parameters:
      - description: ID do lote
        in: path
        name: batchId
        required: true
        type: string
      - description: ID do resultado
        in: path
        name: resultId
        required: true
        type: string
      - description: Dados para atualização
        in: body
        name: result
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateLabResultInBatchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.LabResultInBatchResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Atualizar resultado
      tags:
      - LabResultBatch
  /api/v1/lab-result-batches/{batchId}/upload-pdf:
    post:
      consumes:
      - multipart/form-data
      description: Upload de PDF de laudo médico para interpretação automática via
        IA
      parameters:
      - description: Batch ID (UUID)
        in: path
        name: batchId
        required: true
        type: string
      - description: PDF file (max 20MB)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: PDF uploaded and job created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload de PDF de laudo médico
      tags:
      - LabResultBatch
  /api/v1/lab-result-batches/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete de um lote de resultados (admin only)
      parameters:
      - description: ID do lote
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Deletar lote
      tags:
      - LabResultBatch
    get:
      consumes:
      - application/json
      description: Busca um lote de resultados por ID com todos os resultados
      parameters:
      - description: ID do lote
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.LabResultBatchDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Buscar lote por ID
      tags:
      - LabResultBatch
    put:
      consumes:
      - application/json
      description: Atualiza metadados de um lote de resultados
      parameters:
      - description: ID do lote
        in: path
        name: id
        required: true
        type: string
      - description: Dados para atualização
        in: body
        name: batch
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateLabResultBatchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.LabResultBatchResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Atualizar lote
      tags:
      - LabResultBatch
  /api/v1/lab-result-batches/{id}/results:
    post:
      consumes:
      - application/json
      description: Adiciona um novo resultado a um lote existente
      parameters:
      - description: ID do lote
        in: path
        name: id
        required: true
        type: string
      - description: Resultado
        in: body
        name: result
        required: true
        schema:
          $ref: '#/definitions/dto.CreateLabResultInBatchRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.LabResultInBatchResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Adicionar resultado ao lote
      tags:
      - LabResultBatch
  /api/v1/lab-result-views:
    get:
      parameters:
      - description: Incluir items
        in: query
        name: withItems
        type: boolean
      - description: Incluir inativas
        in: query
        name: includeInactive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabResultView'
            type: array
      summary: Lista todas as views de resultados laboratoriais
      tags:
      - lab-result-views
    post:
      consumes:
      - application/json
      parameters:
      - description: View data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.CreateLabResultViewRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LabResultView'
      summary: Cria uma nova view
      tags:
      - lab-result-views
  /api/v1/lab-result-views/{id}:
    delete:
      parameters:
      - description: View ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
      summary: Deleta uma view
      tags:
      - lab-result-views
    get:
      parameters:
      - description: View ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabResultView'
      summary: Busca uma view por ID
      tags:
      - lab-result-views
    put:
      consumes:
      - application/json
      parameters:
      - description: View ID
        in: path
        name: id
        required: true
        type: string
      - description: View data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateLabResultViewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabResultView'
      summary: Atualiza uma view
      tags:
      - lab-result-views
  /api/v1/lab-result-views/{id}/items:
    put:
      consumes:
      - application/json
      parameters:
      - description: View ID
        in: path
        name: id
        required: true
        type: string
      - description: Items data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateLabResultViewItemsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Atualiza os items de uma view
      tags:
      - lab-result-views
  /api/v1/lab-result-views/search:
    get:
      parameters:
      - description: Query de busca
        in: query
        name: q
        required: true
        type: string
      - description: Incluir items
        in: query
        name: withItems
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabResultView'
            type: array
      summary: Busca views por nome ou descrição
      tags:
      - lab-result-views
  /api/v1/lab-results/{id}/values:
    get:
      parameters:
      - description: Lab result ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabResultValue'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get values for lab result
      tags:
      - LabResults
  /api/v1/lab-results/values:
    post:
      consumes:
      - application/json
      parameters:
      - description: Lab result value data
        in: body
        name: value
        required: true
        schema:
          $ref: '#/definitions/models.LabResultValue'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LabResultValue'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create lab result value
      tags:
      - LabResults
  /api/v1/lab-results/values/{id}:
    delete:
      parameters:
      - description: Lab result value ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete lab result value
      tags:
      - LabResults
    get:
      parameters:
      - description: Lab result value ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabResultValue'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab result value by ID
      tags:
      - LabResults
    put:
      consumes:
      - application/json
      parameters:
      - description: Lab result value ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated lab result value data
        in: body
        name: value
        required: true
        schema:
          $ref: '#/definitions/models.LabResultValue'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabResultValue'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update lab result value
      tags:
      - LabResults
  /api/v1/lab-results/values/batch:
    post:
      consumes:
      - application/json
      parameters:
      - description: Array of lab result values
        in: body
        name: values
        required: true
        schema:
          items:
            $ref: '#/definitions/models.LabResultValue'
          type: array
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            items:
              $ref: '#/definitions/models.LabResultValue'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create multiple lab result values
      tags:
      - LabResults
  /api/v1/lab-tests/definitions:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabTestDefinition'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get all lab test definitions
      tags:
      - LabTests
    post:
      consumes:
      - application/json
      parameters:
      - description: Lab test definition data
        in: body
        name: definition
        required: true
        schema:
          $ref: '#/definitions/models.LabTestDefinition'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LabTestDefinition'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create lab test definition
      tags:
      - LabTests
  /api/v1/lab-tests/definitions/{id}:
    delete:
      parameters:
      - description: Lab test definition ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete lab test definition
      tags:
      - LabTests
    get:
      parameters:
      - description: Lab test definition ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabTestDefinition'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab test definition by ID
      tags:
      - LabTests
    put:
      consumes:
      - application/json
      parameters:
      - description: Lab test definition ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated lab test definition data
        in: body
        name: definition
        required: true
        schema:
          $ref: '#/definitions/models.LabTestDefinition'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabTestDefinition'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update lab test definition
      tags:
      - LabTests
  /api/v1/lab-tests/definitions/{id}/sub-tests:
    get:
      parameters:
      - description: Parent test ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabTestDefinition'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get sub-tests
      tags:
      - LabTests
  /api/v1/lab-tests/definitions/code/{code}:
    get:
      parameters:
      - description: Lab test code
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabTestDefinition'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab test definition by code
      tags:
      - LabTests
  /api/v1/lab-tests/definitions/search:
    get:
      parameters:
      - description: Search term
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabTestDefinition'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Search lab tests
      tags:
      - LabTests
  /api/v1/lab-tests/requestable:
    get:
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabTestDefinition'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get requestable lab tests
      tags:
      - LabTests
  /api/v1/patients/{patientId}/lab-requests:
    get:
      parameters:
      - description: Patient ID
        in: path
        name: patientId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabRequest'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab requests by patient ID
      tags:
      - LabRequests
  /api/v1/patients/{patientId}/lab-values:
    get:
      parameters:
      - description: Patient ID
        in: path
        name: patientId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LabResultValue'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get lab values for patient
      tags:
      - LabResults
  /api/v1/patients/{patientId}/lab-values/test/{testId}/latest:
    get:
      parameters:
      - description: Patient ID
        in: path
        name: patientId
        required: true
        type: string
      - description: Lab test definition ID
        in: path
        name: testId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LabResultValue'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get latest value for test
      tags:
      - LabResults
  /api/v1/processing-jobs/{id}:
    get:
      consumes:
      - application/json
      description: 'Busca informações e status atual de um job de processamento assíncrono
        (ex: extração de PDF)'
      parameters:
      - description: Job ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ProcessingJobResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Buscar status de job de processamento
      tags:
      - ProcessingJobs
  /api/v1/profile:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserResponse'
      security:
      - BearerAuth: []
      summary: Get current user profile
      tags:
      - profile
    put:
      parameters:
      - description: Profile data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProfileRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserResponse'
      security:
      - BearerAuth: []
      summary: Update current user profile
      tags:
      - profile
  /api/v1/score-groups:
    get:
      consumes:
      - application/json
      description: Get all score groups ordered by order field
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreGroup'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all score groups
      tags:
      - Score Groups
    post:
      consumes:
      - application/json
      description: Create a new score group (admin only)
      parameters:
      - description: Score Group Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.CreateScoreGroupDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ScoreGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new score group
      tags:
      - Score Groups
  /api/v1/score-groups/{groupId}/subgroups:
    get:
      consumes:
      - application/json
      description: Get all subgroups for a specific group
      parameters:
      - description: Score Group ID (UUID)
        in: path
        name: groupId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreSubgroup'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get subgroups by group ID
      tags:
      - Score Subgroups
  /api/v1/score-groups/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a score group (admin only)
      parameters:
      - description: Score Group ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete a score group
      tags:
      - Score Groups
    get:
      consumes:
      - application/json
      description: Get a single score group by ID
      parameters:
      - description: Score Group ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get score group by ID
      tags:
      - Score Groups
    put:
      consumes:
      - application/json
      description: Update an existing score group (admin only)
      parameters:
      - description: Score Group ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Score Group Update Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.UpdateScoreGroupDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update a score group
      tags:
      - Score Groups
  /api/v1/score-groups/{id}/tree:
    get:
      consumes:
      - application/json
      description: Get a score group with all subgroups, items, and levels
      parameters:
      - description: Score Group ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get score group with nested data
      tags:
      - Score Groups
  /api/v1/score-groups/poster-pdf:
    get:
      description: Generate a PDF poster (60cm x 300cm) with all scores
      produces:
      - application/pdf
      responses:
        "200":
          description: OK
          schema:
            type: file
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Generate score poster PDF
      tags:
      - Score Groups
  /api/v1/score-groups/tree:
    get:
      consumes:
      - application/json
      description: Get all score groups with subgroups, items, and levels (full hierarchy
        for mindmap)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreGroup'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get all score groups with nested data
      tags:
      - Score Groups
  /api/v1/score-items:
    get:
      consumes:
      - application/json
      description: Get all score items ordered by name
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreItem'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get all score items
      tags:
      - Score Items
    post:
      consumes:
      - application/json
      description: Create a new score item (admin only)
      parameters:
      - description: Score Item Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.CreateScoreItemDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ScoreItem'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new score item
      tags:
      - Score Items
  /api/v1/score-items/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a score item (admin only)
      parameters:
      - description: Score Item ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete a score item
      tags:
      - Score Items
    get:
      consumes:
      - application/json
      description: Get a single score item by ID with levels
      parameters:
      - description: Score Item ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreItem'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get score item by ID
      tags:
      - Score Items
    put:
      consumes:
      - application/json
      description: Update an existing score item (admin only)
      parameters:
      - description: Score Item ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Score Item Update Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.UpdateScoreItemDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreItem'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update a score item
      tags:
      - Score Items
  /api/v1/score-items/{itemId}/levels:
    get:
      consumes:
      - application/json
      description: Get all levels for a specific item
      parameters:
      - description: Score Item ID (UUID)
        in: path
        name: itemId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreLevel'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get levels by item ID
      tags:
      - Score Levels
  /api/v1/score-levels:
    post:
      consumes:
      - application/json
      description: Create a new score level (admin only)
      parameters:
      - description: Score Level Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.CreateScoreLevelDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ScoreLevel'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new score level
      tags:
      - Score Levels
  /api/v1/score-levels/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a score level (admin only)
      parameters:
      - description: Score Level ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete a score level
      tags:
      - Score Levels
    get:
      consumes:
      - application/json
      description: Get a single score level by ID
      parameters:
      - description: Score Level ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreLevel'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get score level by ID
      tags:
      - Score Levels
    put:
      consumes:
      - application/json
      description: Update an existing score level (admin only)
      parameters:
      - description: Score Level ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Score Level Update Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.UpdateScoreLevelDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreLevel'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update a score level
      tags:
      - Score Levels
  /api/v1/score-subgroups:
    post:
      consumes:
      - application/json
      description: Create a new score subgroup (admin only)
      parameters:
      - description: Score Subgroup Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.CreateScoreSubgroupDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ScoreSubgroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new score subgroup
      tags:
      - Score Subgroups
  /api/v1/score-subgroups/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a score subgroup (admin only)
      parameters:
      - description: Score Subgroup ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete a score subgroup
      tags:
      - Score Subgroups
    get:
      consumes:
      - application/json
      description: Get a single score subgroup by ID
      parameters:
      - description: Score Subgroup ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreSubgroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get score subgroup by ID
      tags:
      - Score Subgroups
    put:
      consumes:
      - application/json
      description: Update an existing score subgroup (admin only)
      parameters:
      - description: Score Subgroup ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Score Subgroup Update Data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/services.UpdateScoreSubgroupDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ScoreSubgroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update a score subgroup
      tags:
      - Score Subgroups
  /api/v1/score-subgroups/{subgroupId}/items:
    get:
      consumes:
      - application/json
      description: Get all items for a specific subgroup
      parameters:
      - description: Score Subgroup ID (UUID)
        in: path
        name: subgroupId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreItem'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get items by subgroup ID
      tags:
      - Score Items
  /api/v1/users:
    get:
      consumes:
      - application/json
      description: Get all users with optional filters
      parameters:
      - description: Filter by role
        in: query
        name: role
        type: string
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: List users
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Create a new user
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create user
      tags:
      - Users
  /api/v1/users/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete user
      tags:
      - Users
    get:
      consumes:
      - application/json
      description: Get a single user by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get user by ID
      tags:
      - Users
    put:
      consumes:
      - application/json
      description: Update an existing user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update user
      tags:
      - Users
  /articles:
    get:
      description: Lista artigos com paginação e filtros
      parameters:
      - default: 1
        description: Página
        in: query
        name: page
        type: integer
      - default: 20
        description: Itens por página
        in: query
        name: pageSize
        type: integer
      - description: Filtrar por revista
        in: query
        name: journal
        type: string
      - description: Filtrar por especialidade
        in: query
        name: specialty
        type: string
      - description: Filtrar por tipo
        in: query
        name: articleType
        type: string
      - description: Filtrar favoritos
        in: query
        name: favorite
        type: boolean
      - description: Filtrar por rating
        in: query
        name: rating
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Listar artigos
      tags:
      - articles
    post:
      consumes:
      - application/json
      description: Cria um novo artigo científico manualmente
      parameters:
      - description: Dados do artigo
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/services.CreateArticleDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Criar artigo
      tags:
      - articles
  /articles/{id}:
    delete:
      description: Remove um artigo do sistema (soft delete)
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Deletar artigo
      tags:
      - articles
    get:
      description: Retorna os detalhes de um artigo específico
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Buscar artigo por ID
      tags:
      - articles
    put:
      consumes:
      - application/json
      description: Atualiza os dados de um artigo
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      - description: Dados a atualizar
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/services.UpdateArticleDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Atualizar artigo
      tags:
      - articles
  /articles/{id}/download:
    get:
      description: Faz download do arquivo PDF de um artigo
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/pdf
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Download de PDF
      tags:
      - articles
  /articles/{id}/favorite:
    patch:
      description: Alterna o status de favorito de um artigo
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Marcar/desmarcar favorito
      tags:
      - articles
  /articles/{id}/rating:
    patch:
      consumes:
      - application/json
      description: Define a avaliação (0-5 estrelas) de um artigo
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      - description: Rating (0-5)
        in: body
        name: body
        required: true
        schema:
          additionalProperties:
            type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Definir rating
      tags:
      - articles
  /articles/{id}/score-items:
    delete:
      consumes:
      - application/json
      description: Remove associação many-to-many entre artigo e itens de escore
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      - description: Array de IDs dos itens de escore
        in: body
        name: scoreItemIds
        required: true
        schema:
          items:
            type: string
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Remover itens de escore de um artigo
      tags:
      - articles
    get:
      description: Retorna todos os itens de escore associados a um artigo
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ScoreItem'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Listar itens de escore de um artigo
      tags:
      - articles
    post:
      consumes:
      - application/json
      description: Cria associação many-to-many entre artigo e itens de escore
      parameters:
      - description: ID do artigo
        in: path
        name: id
        required: true
        type: string
      - description: Array de IDs dos itens de escore
        in: body
        name: scoreItemIds
        required: true
        schema:
          items:
            type: string
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Adicionar itens de escore a um artigo
      tags:
      - articles
  /articles/favorites:
    get:
      description: Lista artigos marcados como favoritos
      parameters:
      - default: 1
        description: Página
        in: query
        name: page
        type: integer
      - default: 20
        description: Itens por página
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Listar favoritos
      tags:
      - articles
  /articles/search:
    get:
      description: Busca artigos por texto (título, autores, abstract, revista)
      parameters:
      - description: Texto de busca
        in: query
        name: q
        required: true
        type: string
      - default: 1
        description: Página
        in: query
        name: page
        type: integer
      - default: 20
        description: Itens por página
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Buscar artigos
      tags:
      - articles
  /articles/stats:
    get:
      description: Retorna estatísticas gerais sobre artigos
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Estatísticas
      tags:
      - articles
  /articles/upload:
    post:
      consumes:
      - multipart/form-data
      description: Faz upload de um PDF e extrai metadados automaticamente
      parameters:
      - description: Arquivo PDF
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Article'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Upload de PDF
      tags:
      - articles
  /auth/login:
    post:
      consumes:
      - application/json
      description: Autentica um usuário e retorna tokens JWT
      parameters:
      - description: Credenciais
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Login
      tags:
      - auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Invalida o token atual (placeholder - implementar blacklist futuramente)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Logout
      tags:
      - auth
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Gera um novo access token a partir do refresh token
      parameters:
      - description: Refresh token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Refresh token
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Cria um novo usuário no sistema
      parameters:
      - description: Dados de registro
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Registrar novo usuário
      tags:
      - auth
  /certificates:
    get:
      description: Admin sees all certificates, doctors see only their own
      produces:
      - application/json
      responses:
        "200":
          description: List of certificates
          schema:
            items:
              additionalProperties: true
              type: object
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all certificates
      tags:
      - Certificates
  /certificates/{userId}:
    delete:
      description: Admin can delete any certificate, doctors can delete only their
        own
      parameters:
      - description: User ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success message
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete certificate
      tags:
      - Certificates
  /certificates/status:
    get:
      description: Returns certificate expiry and validity status for the authenticated
        doctor
      produces:
      - application/json
      responses:
        "200":
          description: hasCertificate, validUntil, daysUntilExpiry, needsRenewal
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get certificate status for logged-in doctor
      tags:
      - Certificates
  /health:
    get:
      consumes:
      - application/json
      description: Verifica se a API e o banco de dados estão funcionais
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Health Check
      tags:
      - health
  /medication-definitions:
    get:
      description: Get all medication definitions with optional category filter
      parameters:
      - description: Filter by category (simple, c1, c5, antibiotic, glp1)
        in: query
        name: category
        type: string
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: data, total, page, limit
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List medication definitions
      tags:
      - MedicationDefinitions
    post:
      consumes:
      - application/json
      description: Create a new medication definition (admin only)
      parameters:
      - description: Medication definition data
        in: body
        name: medication
        required: true
        schema:
          $ref: '#/definitions/models.MedicationDefinition'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.MedicationDefinition'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create medication definition
      tags:
      - MedicationDefinitions
  /medication-definitions/{id}:
    delete:
      description: Soft delete a medication definition (admin only)
      parameters:
      - description: Medication Definition UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete medication definition
      tags:
      - MedicationDefinitions
    get:
      description: Get a single medication definition
      parameters:
      - description: Medication Definition UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MedicationDefinition'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get medication definition by ID
      tags:
      - MedicationDefinitions
    put:
      consumes:
      - application/json
      description: Update an existing medication definition (admin only)
      parameters:
      - description: Medication Definition UUID
        in: path
        name: id
        required: true
        type: string
      - description: Medication definition data
        in: body
        name: medication
        required: true
        schema:
          $ref: '#/definitions/models.MedicationDefinition'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MedicationDefinition'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update medication definition
      tags:
      - MedicationDefinitions
  /medication-definitions/search:
    get:
      description: Search medications by name or active ingredient (autocomplete)
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - default: 10
        description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.MedicationDefinition'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Search medication definitions
      tags:
      - MedicationDefinitions
  /patients:
    get:
      consumes:
      - application/json
      description: Retorna lista de pacientes com paginação
      parameters:
      - default: 20
        description: Limite de resultados
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset para paginação
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/dto.PatientResponse'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Listar pacientes
      tags:
      - patients
    post:
      consumes:
      - application/json
      description: Cria um novo paciente para o usuário autenticado
      parameters:
      - description: Dados do paciente
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreatePatientRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.PatientResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Criar paciente
      tags:
      - patients
  /patients/{id}:
    delete:
      consumes:
      - application/json
      description: Faz soft delete de um paciente (apenas admin/doctor/nurse)
      parameters:
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Deletar paciente
      tags:
      - patients
    get:
      consumes:
      - application/json
      description: Retorna um paciente específico
      parameters:
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.PatientResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buscar paciente por ID
      tags:
      - patients
    put:
      consumes:
      - application/json
      description: Atualiza dados de um paciente
      parameters:
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      - description: Dados para atualização
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdatePatientRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.PatientResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Atualizar paciente
      tags:
      - patients
  /prescriptions/{id}/sign:
    post:
      description: Signs prescription with doctor's digital certificate and generates
        PDF with QR code
      parameters:
      - description: Prescription UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: signedPdfUrl, sncrNumber
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sign prescription and generate signed PDF
      tags:
      - Prescriptions
  /prescriptions/validate/{id}:
    get:
      description: Public endpoint for validating prescription authenticity via QR
        code
      parameters:
      - description: Prescription UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: validation result with prescription details
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: Validate prescription (public - no auth)
      tags:
      - Prescriptions
  /users/me:
    get:
      consumes:
      - application/json
      description: Retorna informações do usuário autenticado incluindo paciente selecionado
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserDTO'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - auth
  /users/me/preferences:
    patch:
      consumes:
      - application/json
      description: Atualiza as preferências do usuário autenticado (viewport do mindmap,
        etc.)
      parameters:
      - description: Preferences JSON
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user preferences
      tags:
      - auth
  /users/me/selected-patient:
    put:
      consumes:
      - application/json
      description: Atualiza o paciente selecionado para o usuário autenticado
      parameters:
      - description: Patient ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateSelectedPatientRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update selected patient
      tags:
      - auth
securityDefinitions:
  BearerAuth:
    description: Digite 'Bearer' seguido do token JWT
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
